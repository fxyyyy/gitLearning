<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="jquery,ui,easy,easyui,web">
	<meta name="description" content="easyui help you build your web page easily!">
	<title>学生进度-云视频学习平台</title>
	<link rel="stylesheet" type="text/css" href="http://www.jeasyui.net/Public/js/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="http://www.jeasyui.net/Public/js/easyui/themes/icon.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
	<script type="text/javascript" src="http://www.jeasyui.net/Public/js/easyui/jquery.easyui.min.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="http://www.jeasyui.net/Public/js/easyui/demo/demo.css">
 -->
<style type="text/css">
		#main{margin:0px auto; width:500px;}
</style>
<!-- begin:画图工具 -->
<script src="js/echarts.common.min.js"></script> 

<!-- 自定义js:根据session获得path实体类对应信息 -->
<script src="js/learnRate/learnRate.js"></script> 
<!-- begin:自定义js -->
<script src="/js/inform/roleInform.js"></script>

<script src="/js/model/plug-in_module.js" type="text/javascript"></script>

<link href="http://wenda.wecenter.com/static/css/default/img/favicon.ico?v=20160523" rel="shortcut icon" type="image/x-icon" />

<link rel="stylesheet" type="text/css" href="http://wenda.wecenter.com/static/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="http://wenda.wecenter.com/static/css/icon.css" />

<link href="http://wenda.wecenter.com/static/css/default/common.css?v=20160523" rel="stylesheet" type="text/css" />
<link href="http://wenda.wecenter.com/static/css/default/link.css?v=20160523" rel="stylesheet" type="text/css" />
<link href="http://wenda.wecenter.com/static/js/plug_module/style.css?v=20160523" rel="stylesheet" type="text/css" />

<script type="text/javascript">
	var _A23CAC1A0D828E3D951D23A012A7DBB9="";
	var G_POST_HASH=_A23CAC1A0D828E3D951D23A012A7DBB9;
	var G_INDEX_SCRIPT = "";
	var G_SITE_NAME = "WeCenter 社交化问答社区程序";
	var G_BASE_URL = "http://wenda.wecenter.com";
	var G_STATIC_URL = "http://wenda.wecenter.com/static";
	var G_UPLOAD_URL = "http://wenda.wecenter.com/uploads";
	var G_USER_ID = "";
	var G_USER_NAME = "";
	var G_UPLOAD_ENABLE = "N";
	var G_UNREAD_NOTIFICATION = 0;
	var G_NOTIFICATION_INTERVAL = 100000;
	var G_CAN_CREATE_TOPIC = "";
	var G_ADVANCED_EDITOR_ENABLE = "Y";
	var FILE_TYPES = "jpg,jpeg,png,zip,rar,7z";
	</script>

<script src="http://wenda.wecenter.com/static/js/jquery.form.js?v=20160523" type="text/javascript"></script>

<script src="http://wenda.wecenter.com/static/js/aws.js?v=20160523" type="text/javascript"></script>
<script src="http://wenda.wecenter.com/static/js/aw_template.js?v=20160523" type="text/javascript"></script>
<script type="text/javascript" src="http://wenda.wecenter.com/static/js/compatibility.js"></script>

<!-- Custom Theme files -->
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- Custom Theme files -->
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<!-- start menu -->
<script type="text/javascript" src="js/megamenu.js"></script>
<script>$(document).ready(function(){$(".megamenu").megamenu();});</script>
<script type="text/javascript" src="js/jquery.leanModal.min.js"></script>
<link rel="stylesheet" href="css/font-awesome.min.css" />
<script src="js/easyResponsiveTabs.js" type="text/javascript"></script>
		    <script type="text/javascript">
			    $(document).ready(function () {
			        $('#horizontalTab').easyResponsiveTabs({
			            type: 'default', //Types: default, vertical, accordion           
			            width: 'auto', //auto or any width like 600px
			            fit: true   // 100% fit in a container
			        });
			    });
</script>
<!---- start-smoth-scrolling---->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".scroll").click(function(event) {
			event.preventDefault();
			$('html,body').animate({
				scrollTop : $(this.hash).offset().top
			}, 1200);
		});
	});
</script>
<!---- start-smoth-scrolling---->
</head>
<body>
	<!-- <div id="w" class="easyui-window" title="Modal Window" data-options="modal:true,closed:true,iconCls:'icon-save'" style="width:800px;height:600px;padding:10px;">
	</div> -->

<div class="aw-top-menu-wrap">
		<div class="container">
			<!-- logo -->
			<div class="aw-logo hidden-xs">
				<a href="#">
					<!-- <img alt="" src="/myImages/main.jpg"> -->
				</a>
			</div> 
			<!-- end logo -->
			<!-- 导航 -->
			<div class="aw-top-nav navbar">
				<div class="navbar-header">
					<button class="navbar-toggle pull-left">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
				</div>
				<nav role="navigation"
					class="collapse navbar-collapse bs-navbar-collapse">
					<ul class="nav navbar-nav">
						<li><a href="/modelV">云视频</a></li>
						<li class="roldInform"><a href="/urlLearnRate">
								学生进度</a></li>
						<li><a href="/urlLearnPath">路线定制</a></li>
						<li><a href="http://localhost:8080/practice/modelShowAllPractice.html">
						                      课后习题</a></li>	
							
						<li><a href="http://localhost:8080/fileList/modelShowAllFile.html">
								文档资源</a></li>		
						<li><a href="http://localhost:8080/article/modelShowAllArticle.html" class="">
								师生讨论</a></li>
						
						<li><a href="http://localhost:8080/inform/modelShowAllInform.html"
							class="">教学通知</a> </li>
					</ul>
				</nav>
			</div>
			<!-- end 导航 -->
			<!-- 用户栏 -->
			<div class="aw-user-nav">
				<!-- 登陆&注册栏 -->
				<a href="http://wenda.wecenter.com/people/itGod"
					class="aw-user-nav-dropdown"> <img alt="itGod"
					src="http://wenda.wecenter.com/static/common/avatar-mid-img.png" />
					<span class="badge badge-important"></span>

				</a>
				<div class="aw-dropdown dropdown-list pull-right">
					<ul class="aw-dropdown-list">
						<li class="roldInform"><a href="/urlManageVideo">后台<span
								class="badge badge-important collapse" id="inbox_unread"></span></a></li>
						<li class="hidden-xs"><a
							href="/modelV">主页</a></li>
						<li><a href="/signin">退出</a></li>
					</ul>
				</div>
				<!-- end 登陆&注册栏 -->
			</div>
			<!-- end 用户栏 -->
			<!-- 发起 -->
			<div class="aw-publish-btn">

				<a id="header_publish" class="btn-primary"
					href="http://wenda.wecenter.com/publish/"
					onclick="AWS.dialog('publish', {'category_enable':'1', 'category_id':'0', 'topic_title':''}); return false;">
					发起</a>
				<div class="dropdown-list pull-right">
					<ul>
					
						<li class="roldInform">
							<form method="post" action="/urlPublishPractice">
								<a onclick="$(this).parents('form').submit();">习题</a>
							</form>

						</li>
					
						<li class="roldInform">
							<form method="post" action="/urlPublishInform">
								<a onclick="$(this).parents('form').submit();">通知</a>
							</form>

						</li>
						<li>
							<form method="post"
								action="/modelPublishURL">
								<a onclick="$(this).parents('form').submit();">话题</a>
							</form>
						</li>
					</ul>
				</div>
			</div>
			<!-- end 发起 -->
		</div>
	</div>
	
	
<!-- begin:搜索路线内容 -->
	<div class="aw-container-wrap">
		<div class="container">
			<div class="row">
				<div class="aw-content-wrap clearfix">
					<div class="col-sm-12 col-md-12 aw-main-content">
						<div class="aw-mod aw-help-center">
							<div class="mod-head">
								<h2>学生进度</h2>
								<div class="aw-search-box aw-border-radius-5 ">
										<input class="form-control search-query aw-border-radius-5 pathName"
											type="text" placeholder="搜索学生" autocomplete="off" 
											id="aw-search-query" /> <span title="搜索"
											id="global_search_btns" class="search_btns">
											<i class="icon icon-search"></i></span>
							   </div>

							<!-- begin:拼接介绍 -->
							<div class="mod-body clearfix"  id="showLearnRate">
							<!-- begin:拼接图 -->
							<!-- <div class="mod-body clearfix"  id="areachart" style="width: 600px;height:400px;"> -->
						
							
						</div>
						
						 <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
    
    //java学习路线标题下加一个搜索框，根据输入的技术名称去和存到数据库里的名称对比。
    $(".search_btns").click(function() {
    	//获得输入值
    	var stuName = $(".pathName").val();
    	$.ajax({
			url : "urlChooseStuName",
			data : {stuName:stuName},
			type : "post",
			success : function(msg) {
				$("#showLearnRate").empty();
				$("#pageHelper").hide();
				
				// 基于准备好的dom，初始化echarts实例
		        var myChart = echarts.init(document.getElementById('main'));
				//x轴 y轴
		        var mdataX = [];
                var mdataY = [];
                var list = msg.map.learnRates;
                for (var i = 0; i < list.length; i++) {
                    mdataX.push(list[i].videoname);
                    mdataY.push(list[i].playtime);
                }	
                
                //全部时间用秒来计算
                var sec = [];
                for (var i = 0; i < mdataY.length; i++) {
                	var hour = mdataY[i].substring(0,mdataY[i].indexOf("小"));
                	var minu = mdataY[i].substring(mdataY[i].indexOf("时")+1,mdataY[i].indexOf("分"));
                	var secc = mdataY[i].substring(mdataY[i].indexOf("钟")+1,mdataY[i].length-1);
                	sec.push(hour * 60 * 60 + minu * 60 + secc);
                	console.log("sec:"+sec[i]);
                }
                
                var option = {
    	                title : {
    	                    text: '学生'+list[0].username+'的进度统计图',
    	                    x: "center"
    	                },
    	                tooltip : {
    	                    trigger: 'axis'
    	                },
    	                legend: {
    	                    data:['最高气温','最低气温']
    	                },
    	                toolbox: {
    	                    show : true,
    	                    feature : {
    	                        mark : {show: true},
    	                        dataView : {show: true, readOnly: false},
    	                        magicType : {show: true, type: ['line', 'bar']},
    	                        restore : {show: true},
    	                        saveAsImage : {show: true}
    	                    }
    	                },
    	                calculable : true,
    	                xAxis : [
    	                    {
    	                        type : 'category',
    	                        boundaryGap : false,
    	                        data : mdataX
    	                    }
    	                ],
    	                /* yAxis : [
    	                    {
    	                        type : 'value',
    	                        axisLabel : {
    	                            formatter: '{value} 分'
    	                        }
    	                    }
    	                ], */
    	                yAxis: {},
    	                series : [

    	                    {
    	                        name:'播放时间',
    	                        type:'line',
    	                        data:sec,
    	                    }
    	                ]
    	            };

		        // 使用刚指定的配置项和数据显示图表。
		        myChart.setOption(option);
				/*
				// 把值拼接到html中
				var list = msg.map.learnRates;
				$("#showLearnRate").empty();
				var mdataX = [];
                var mdataY = [];
                for (var i = 0; i < list.size; i++) {
                    mdataX.push(list[i].videoname);
                    mdataY.push(list[i].playtime);
                }				
				var myChart = echarts.init(document.getElementById('areachart'));
	            console.log("mdataX:"+mdataX);
	            console.log("mdataY:"+mdataY);
	            

	           var option = {
	                title : {
	                    text: '学生进度统计图',
	                    x: "center"
	                },
	                tooltip : {
	                    trigger: 'axis'
	                },
	                legend: {
	                    data:['最高气温','最低气温']
	                },
	                toolbox: {
	                    show : true,
	                    feature : {
	                        mark : {show: true},
	                        dataView : {show: true, readOnly: false},
	                        magicType : {show: true, type: ['line', 'bar']},
	                        restore : {show: true},
	                        saveAsImage : {show: true}
	                    }
	                },
	                calculable : true,
	                xAxis : [
	                    {
	                        type : 'category',
	                        boundaryGap : false,
	                        data : mdataX
	                    }
	                ],
	                yAxis : [
	                    {
	                        type : 'value',
	                        axisLabel : {
	                            formatter: '{value} 分'
	                        }
	                    }
	                ],
	                series : [

	                    {
	                        name:'考试成绩',
	                        type:'line',
	                        data:mdataY,
	                    }
	                ]
	            };

	            // 使用刚指定的配置项和数据显示图表。
	            myChart.setOption(option);*/
/*				
				// 100表示成功
				if (msg.code == 100) {
					// 把值拼接到html中
					var list = msg.map.learnRates;
					$("#showLearnRate").empty();
					var html = "";
					html += "<table class='table table-striped' align='center' style='width: 940px;'>";
					html += "<tr><td>序号</td><td>姓名</td><td>视频名</td><td>观看时长</td></tr>";
					$.each(list, function(index, learnRate) {
							
	html += "<tr>";
	html += "<td>"+ (index + 1) +"</td>";
	html += "<td>"+ learnRate.username +"</td>";
	html += "<td>"+ learnRate.videoname +"</td>";
	html += "<td>"+ learnRate.playtime +"</td>";
						});
						 html += "</tr></table>";
					$("#showLearnRate").append(html);
				} else {
					alert("请求失败了！");
				}*/
			},
			error : function(XMLHttpRequest, textStatus, errorThrown) {
				alert(XMLHttpRequest.status);
				alert(XMLHttpRequest.readyState);
				alert(textStatus);
			}

		});
    });
        
    </script>
						
						<div class="mod-footer">
									<div class="page-control">
										<div style="margin: 20px 0;"></div>
										<!-- begin:分页 -->
										<div id="pageHelper" class="pagination pull-right"></div>
									</div>
							</div>	
						
					</div>
				</div>
			</div>
		</div>
	</div> 
	<!-- end:搜索路线内容 -->

	<!-- begin:底部 -->
	<div class="aw-footer-wrap">
		<div class="aw-footer">
			Copyright © 2018<span class="hidden-xs"> - 东莞理工学院2014级软件工程卓越计划1班符祥远, All Rights Reserved</span> 
			<span class="hidden-xs">Powered By <a href="#" target="blank">CloudLearn 5.2.0</a></span>
		</div>
	</div>
	<!-- end:底部 -->
	
	
<a class="aw-back-top hidden-xs" href="javascript:;" onclick="$.scrollTo(1, 600, {queue:true});"><i class="icon icon-up"></i></a>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?0bc5084b5b75712f34e8c85baabd465b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- DO NOT REMOVE -->
<div id="aw-ajax-box" class="aw-ajax-box"></div>

<div style="display:none;" id="__crond">
	<script type="text/javascript">
		$(document).ready(function () {
			$('#__crond').html(unescape('%3Cimg%20src%3D%22' + G_BASE_URL + '/crond/run/1521075132%22%20width%3D%221%22%20height%3D%221%22%20/%3E'));
		});
	</script>
</div>

<!-- Escape time: 0.031418085098267 --><!-- / DO NOT REMOVE -->




<p align='center'><script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F8289194a911f5d8567a26db6a3d2e49d' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

<script type="text/javascript">
	if(navigator.userAgent.indexOf("MSIE")>0) { 
			alert('检测到您当前使用的是IE，如果界面显示不正常，建议使用谷歌，火狐或者IE9，谢谢!');
    } 
</script>
</body>
</html>
